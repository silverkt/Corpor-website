### 展示系统数据交互格式 v8.1.0

--------------------------

##### 1. 获取能源结构

> **222.222.120.72:808/reds-rest/webapi/enstruct?tscope=1&rqfor=1**
>
> ​	@tscope  时间范围  { 总累计：1， 当年：2 ，当月：3 ， 当日：4 }
>
> ​	@rqfor 请求内容 { 总体能源：1,  清洁能源：2, 可再生能源： 3 }
>
> **返回json格式样例**
> ```json
> {
>     "title":"能源结构",
>     "unit": "%",
>     "data":[
> 		{
> 			"name":"可再生能源",
> 			"value":30
> 		},
> 		{
> 			"name":"天然气",
> 			"value":30
> 		},
> 		{
> 			"name":"化石能源",
> 			"value":40
> 		}
> 	]
> }
> ```

##### 2. 能源分析结构 

> **222.222.120.72:808/reds-rest/webapi/enanalyze1?tscope=2**
>
> ​	@tscope  时间范围  {  当年：2 ，当月：3 ， 当日：4 }
>
>  **返回json格式样例**
>
> ```json
> {
>     "title":"",
>     "unit": "MWh",
>     "data":[
> 		{
> 			"name":"电力",
> 			"value":30
> 		},
> 		{
> 			"name":"蒸汽", 
> 			"value":30
> 		},
> 		{
> 			"name":"冷热",
> 			"value":40
> 		}
> 	]
> }
> ```
#####3. 能源分析趋势
>**222.222.120.72:808/reds-rest/webapi/enanalyze1?tscope=2**
>
>​	@tscope  时间范围  {  当年：2 ，当月：3 ， 当日：4 }
>
> **返回json格式样例**
>
>```json
>{
>  "title": "供能分析",
>  "data_type": ["电力","蒸汽","冷热","总量"],
>  "x_line": {
>    "name": "时",
>    "data" : [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]
>  },
>  "y_line": {
>    "name": "MWh",
>    "series": [
>        {
>            "name":"电力",
>            "type": "line",
>            "data":[120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134]
>        },
>        {
>            "name":"蒸汽",
>            "type": "line",
>            "data":[220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234]
>        },
>        {
>            "name":"冷热",
>            "type": "line",
>            "data":[150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154]
>        },
>        {
>            "name":"总量",
>            "type": "line",
>            "data":[320, 332, 301, 334, 390, 330, 320, 320, 332, 301, 334, 390, 330, 320, 320, 332, 301, 334, 390, 330, 320, 320, 332, 301, 334]
>        }
>    ]
>  }
>}
>```

##### 4. 经济效用结构

>**222.222.120.72:808/reds-rest/webapi/ecoeffect1?tscope=2**
>
>​	@tscope  时间范围  {  当年：2 ，当月：3 ， 当日：4 }
>
>**返回json格式样例**
>
>```json
>{
>    "title":"",
>    "unit": "万元",
>    "data":[
>		{
>			"name":"电力",
>			"value":30
>		},
>		{
>			"name":"蒸汽",
>			"value":30
>		},
>		{
>			"name":"冷热",
>			"value":40
>		}
>	]
>}
>```

##### 5. 经济效用趋势

>**222.222.120.72:808/reds-rest/webapi/ecoeffect2?tscope=2**
>
>​	@tscope  时间范围  {  当年：2 ，当月：3 ， 当日：4 }
>
>**返回json格式样例**
>
>```json
>{
>  "title": "经济效用",
>  "data_type": ["电力","蒸汽","冷热","总量"],
>  "x_line": {
>    "name": "时",
>    "data" : [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]
>  },
>  "y_line": {
>    "name": "万元",
>    "series": [
>        {
>            "name":"电力",
>            "type": "line",
>            "data":[120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134]
>        },
>        {
>            "name":"蒸汽",
>            "type": "line",
>            "data":[220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234]
>        },
>        {
>            "name":"冷热",
>            "type": "line",
>            "data":[150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154, 190, 330, 410, 150, 232, 201, 154]
>        },
>        {
>            "name":"总量",
>            "type": "line",
>            "data":[320, 332, 301, 334, 390, 330, 320, 320, 332, 301, 334, 390, 330, 320, 320, 332, 301, 334, 390, 330, 320, 320, 332, 301, 334]
>        }
>    ]
>  }
>}
>```

##### 6. 社会效用量

>**222.222.120.72:808/reds-rest/webapi/socialeffect1?tscope=2&rqfor=1**
>
>​	@tscope  时间范围  {  当年：2 ，当月：3 ， 当日：4 }
>
>​	@rqfor 	请求内容 { 节煤标量：1,  co2减排量：2 , 综合减排量：3}
>
>**返回json格式样本**
>
>```json
>{
>  "title": "节煤标量",
>  "value": "263.1",
>  "unit": "吨"
>}
>```

##### 7. 社会效用节煤标量趋势

> **222.222.120.72:808/reds-rest/webapi/socialeffect2?tscope=2**
>
> ​	@tscope  时间范围  {  当年：2 ，当月：3 ， 当日：4 }
>
> **返回json格式样本**
>
> ```json
> {
>   "title": "社会效用",
>   "data_type": ["节煤标量"],
>   "x_line": {
>     "name": "时",
>     "data" : [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]
>   },
>   "y_line": {
>     "name": "",
>     "series": [
>         {
>             "name":"节煤标量",
>             "type": "line",
>             "data":[120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134]
>         }
>     ]
>   }
> }
> ```

##### 8. 全国排名

> **222.222.120.72:808/reds-rest/webapi/ranking?rqfor=1&tscope=1&ascope=1**
>
> ​	@rqfor 请求内容 {  综合排名：1,   能效排名：2,   经济性排名：3,   生态排名：4  }
>
> ​	@tscope 时间范围  {  当年：2, 当月：3,  当日：4  }
>
> ​	@ascope 区域范围 {  全国：1, 	区域：对应id  }
>
> **返回json格式样本**
>
> ```json
> {
>   "title": "zhpm",
>   "list" : [
>   		{
>   			"no" : 1,
>   			"name": "新奥科技园",
>   			"value": 95
>   		},
>       {
>   			"no" : 2,
>   			"name": "七修居",
>   			"value": 92
>   		},
>       {
>   			"no" : 3,
>   			"name": "腾讯",
>   			"value": 90
>   		},
>       {
>   			"no" : 4,
>   			"name": "新朝阳",
>   			"value": 89
>   		},
>       {
>   			"no" : 5,
>   			"name": "亭湖医院",
>   			"value": 88
>   		},
>       {
>   			"no" : 6,
>   			"name": "君乐宝",
>   			"value": 86
>   		},
>       {
>   			"no" : 7,
>   			"name": "龙游城南工业园",
>   			"value": 85
>   		},
>       {
>   			"no" : 8,
>   			"name": "青岛中德",
>   			"value": 84
>   		},
>       {
>   			"no" : 9,
>   			"name": "青岛万达游艇",
>   			"value": 83
>   		},
>       {
>   			"no" : 10,
>   			"name": "安心彩纤",
>   			"value": 81
>   		}
>   ]
> }
> ```

##### 9. 高级运营 （尚未确定）

> **222.222.120.72:808/reds-rest/webapi/operation?tscope=1&ascope=1**
>
> ​	@tscope 时间范围  {  当年：2, 当月：3,  当日：4  }
>
> ​	@ascope 区域范围 {  全国：1, 	区域：对应id,   省：对应id，  市：对应id， 站：对应id  }
>
> ```json
> {
>         "errtype": 2,        //故障分类
>         "errreason": 12,	 //故障原因
>         "errsolu": 12,		 //故障解决方案
>         "backres": 23,		 //备件库个数	
>         "backtype": 8,		 //备件种类
>         "backno": 25,        //备件个数
>         "exps": 2000,		 //经验条数
>         "exptype": 8,        //经验几类
>         "expfreq": 8,        //更新频率
>         "expno": 5,          //更新条数
>         "diatype": 80,       //报表类别
>         "diano": 16          //报表个数
> }
> ```

##### 10. 标准化运营 （尚未确定）

>**222.222.120.72:808/reds-rest/webapi/operationstd?tscope=1&ascope=1**
>
>​	@tscope 时间范围  {  当年：2, 当月：3,  当日：4  }
>
>​	@ascope 区域范围 {  全国：1, 	区域：对应id,   省：对应id，  市：对应id， 站：对应id  }
>
>```json
>{
>        "stationtype": 5,	  //标准站类型
>        "stationno": 20,	  //标准站个数
>        "opertype": 8,	      //运营人员类别
>        "operno": 50,	      //运营人员人数
>        "operrate": "50%",	  //运营人员比例
>        "traintype": 50,	  //培训分类
>        "trainno1": 200,      //培训通过人数
>        "trainno2": 500,	  //参训人数
>        "trainno3": 300,	  //待训人数
>        "errtype": 6,		  //故障等级分类
>        "errno": 20,		  //故障个数
>        "errtime": 100,		  //故障相应时间统计
>        "errrate": "0.2%"	  //故障重复发生概率
>}
>```

##### 参考

> - 20170605.pptx   17,18,19,20页    [下载此文档](https://raw.githubusercontent.com/silverkt/NDS-for-XA/blob/master/releases/nds%40lastest/docs/20170605.pptx)
> - 展示脚本0718.xlsx   标准化运营，高级运营页   [下载此文档](https://raw.githubusercontent.com/silverkt/NDS-for-XA/master/releases/nds%40lastest/docs/%E5%B1%95%E7%A4%BA%E8%84%9A%E6%9C%AC0718.xlsx)









